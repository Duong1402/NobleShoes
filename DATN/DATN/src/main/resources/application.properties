# ================== SERVER ==================
server.port=8080

# ================== DB (SQL Server) ==================
# Local dev (tránh l?i SSL): encrypt=false
spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=WEB_BAN_GIAY;encrypt=false;trustServerCertificate=true;charset=UTF-8;
spring.datasource.username=sa
spring.datasource.password=123456
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect

# (Optional) Debug SQL (b?t thì log r?t nhi?u)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ================== MULTIPART ==================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# ================== UPLOAD ==================
app.upload-dir=C:/Users/PC/Documents/GitHub/NobleShoes/DATN/DATN/uploads

# Static resources (?nh template trong src/main/resources/static ho?c public)
spring.web.resources.static-locations=classpath:/static/,classpath:/public/
spring.web.resources.cache.cachecontrol.max-age=3600
spring.web.resources.cache.cachecontrol.cache-public=true

# ================== SWAGGER ==================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# ================== JWT ==================
# KHÔNG ?? d?u cách ? ??u giá tr?
application.security.jwt.secret-key=${JWT_SECRET_KEY:ZmFrZS1zZWNyZXQtZm9yLW5vYmxlc2hvZXMtand0LTEyMzQ1Njc4OTA=}
application.security.jwt.expiration=${JWT_EXPIRATION:86400000}
application.security.jwt.refresh-token.expiration=${JWT_REFRESH_EXPIRATION:604800000}

# ================== PAYOS ==================
PAYOS_CREATE_PAYMENT_LINK_URL=https://api-merchant.payos.vn/v2/payment-requests
PAYOS_CLIENT_ID=${PAYOS_CLIENT_ID_ENV:CHANGE_ME}
PAYOS_API_KEY=${PAYOS_API_KEY_ENV:CHANGE_ME}
PAYOS_CHECKSUM_KEY=${PAYOS_CHECKSUM_KEY_ENV:CHANGE_ME}

# ================== VNPAY ==================
vnpay.tmncode=${VNPAY_TMNCODE_ENV:TO4C7UJN}
vnpay.hashsecret=${VNPAY_HASHSECRET_ENV:7LR0D37QP251SAGFQNT8BNB6WNKK03SP}
vnpay.url=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
vnpay.returnurl=${VNPAY_RETURNURL_ENV:http://localhost:8080/admin/vnpay/return?dummy=1}

# ================== MAIL (GMAIL SMTP) ==================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=doducthe19102003@gmail.com
spring.mail.password=uzqrrubogkiwrire
spring.mail.default-encoding=UTF-8

spring.mail.properties.mail.transport.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
spring.mail.properties.mail.debug=false

app.mail.from-name=NobleShoes
app.mail.from-email=${MAIL_USERNAME_ENV:}

# ================== CLOUDINARY ==================
cloudinary.cloud_name=${CLOUDINARY_CLOUD_NAME_ENV:dppzg4tin}
cloudinary.api_key=${CLOUDINARY_API_KEY_ENV:618524167575889}
cloudinary.api_secret=${CLOUDINARY_API_SECRET_ENV:z8p0LlFZsym1lHNfBx0uppr9Pgw}

# ================== OPENROUTER ==================
openrouter.api.key=${OPENROUTER_API_KEY:CHANGE_ME}
openrouter.base-url=${OPENROUTER_BASE_URL:https://openrouter.ai/api/v1}
openrouter.model=${OPENROUTER_MODEL:openai/gpt-4o-mini}

# ================== TOMCAT URL PARSING ==================
# Cho phép các ký t? ??c bi?t và ký t? m? hóa trong Query String và Path
# C?n thi?t cho các Callback t? bên th? ba (nh? VNPAY)
server.tomcat.relaxed-query-characters=|[{}]
server.tomcat.relaxed-path-characters=|[{}]